(function(t){function e(e){for(var n,a,i=e[0],c=e[1],u=e[2],f=0,d=[];f<i.length;f++)a=i[f],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},s={app:0},o=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("85ec"),s=r.n(n);s.a},"08dc":function(t,e,r){},"0915":function(t,e,r){"use strict";var n=r("6362"),s=r.n(n);s.a},1480:function(t,e,r){"use strict";var n=r("42b0"),s=r.n(n);s.a},"31b9":function(t,e,r){"use strict";var n=r("08dc"),s=r.n(n);s.a},"42b0":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=r("2b27"),o=r.n(s),a=r("bc3a"),i=r.n(a),c=r("a7fe"),u=r.n(c),l=r("5f5b"),f=r("b1e0"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"nav"},[r("Menu")],1),r("div",{staticClass:"content"},[r("b-container",{attrs:{fluid:""}},[r("router-view")],1)],1)])},p=[],m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",[r("Desktop",{staticClass:"desktop"}),r("Mobile",{staticClass:"mobile"})],1)},h=[],b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isAuth?r("div",{staticClass:"auth"},[r("router-link",{staticClass:"items",attrs:{to:"/user/"+t.username,tag:"div"}},[r("b-icon",{attrs:{icon:"people"}})],1),r("router-link",{staticClass:"items",attrs:{to:"/projects",tag:"div"}},[r("b-icon",{attrs:{icon:"book"}})],1)],1):r("div",{staticClass:"login"},[r("router-link",{staticClass:"items",attrs:{to:"/login",tag:"div"}},[r("b-icon",{attrs:{icon:"box-arrow-in-left"}})],1),r("router-link",{staticClass:"items",attrs:{to:"/signin",tag:"div"}},[r("b-icon",{attrs:{icon:"box-arrow-in-down-right"}})],1)],1),r("router-link",{staticClass:"items",attrs:{to:"/",tag:"div"}},[r("b-icon",{attrs:{icon:"bag"}})],1),r("div",{staticClass:"bottom"},[t.isAuth?r("router-link",{staticClass:"items",attrs:{to:"/logout",tag:"div"}},[r("b-icon",{attrs:{icon:"arrow-return-left"}})],1):t._e()],1)],1)},g=[],v={computed:{isAuth:function(){return this.$store.getters.get_isAuth},username:function(){return this.$store.getters.get_username}}},_=v,k=(r("1480"),r("2877")),w=Object(k["a"])(_,b,g,!1,null,"4f3fcbb6",null),x=w.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isAuth?t._e():r("router-link",{staticClass:"items",class:{active:!t.isAuth},attrs:{to:"/login",tag:"div"}},[r("b-icon",{attrs:{icon:"box-arrow-in-left"}})],1),t.isAuth?t._e():r("router-link",{staticClass:"items",class:{active:!t.isAuth},attrs:{to:"/signin",tag:"div"}},[r("b-icon",{attrs:{icon:"box-arrow-in-down-right"}})],1),t.isAuth?r("router-link",{staticClass:"items",attrs:{to:"/user/"+t.username,tag:"div"}},[r("b-icon",{attrs:{icon:"people"}})],1):t._e(),t.isAuth?r("router-link",{staticClass:"items",attrs:{to:"/",tag:"div"}},[r("b-icon",{attrs:{icon:"book"}})],1):t._e(),r("router-link",{staticClass:"items",class:{active:!t.isAuth},attrs:{to:"/projects",tag:"div"}},[r("b-icon",{attrs:{icon:"bag"}})],1),t.isAuth?r("router-link",{staticClass:"items",attrs:{to:"/logout",tag:"div"}},[r("b-icon",{attrs:{icon:"arrow-return-left"}})],1):t._e()],1)},y=[],A={computed:{isAuth:function(){return this.$store.getters.get_isAuth},username:function(){return this.$store.getters.get_username}}},$=A,O=(r("e487"),Object(k["a"])($,j,y,!1,null,"61b5fcf4",null)),C=O.exports,I={name:"Menu",components:{Desktop:x,Mobile:C}},P=I,E=(r("a3eb"),Object(k["a"])(P,m,h,!1,null,"0630b632",null)),T=E.exports,R={name:"App",components:{Menu:T},created:function(){var t=this.$cookies.get("TOKEN"),e=this.$cookies.get("isAuth"),r=this.$cookies.get("username");this.$store.commit("set_Token",t),this.$store.commit("set_isAuth",e),this.$store.commit("set_username",r)}},U=R,M=(r("034f"),Object(k["a"])(U,d,p,!1,null,null,null)),V=M.exports,D=r("9483");Object(D["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var N=r("8c4f"),S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h1",[t._v("404")])},z=[],H={},K=H,B=Object(k["a"])(K,S,z,!1,null,"45a019f6",null),F=B.exports,J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h1",[t._v("Home")])},L=[],Z={name:"Home",components:{}},q=Z,G=Object(k["a"])(q,J,L,!1,null,null,null),Q=G.exports,W=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"d-flex justify-content-center align-items-center"},[r("b-col",{attrs:{md:"10",lg:"7"}},[t.isReg?r("h1",[t._v("Поздравляю! Вы зарегистрированы!")]):r("div",{staticClass:"login"},[r("b-form",{on:{submit:t.registration}},[r("label",{attrs:{for:"firstname"}},[t._v("Имя: ")]),r("b-input",{attrs:{id:"firstname",placeholder:"Введите своё имя"},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}}),r("label",{attrs:{for:"lastname"}},[t._v("Фамилия: ")]),r("b-input",{attrs:{id:"lastname",placeholder:"Введите свой Фамилию"},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}}),r("label",{attrs:{for:"email"}},[t._v("Email: ")]),r("b-input",{attrs:{id:"email",placeholder:"Введите свою почту"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("label",{attrs:{for:"login"}},[t._v("Логин: ")]),r("b-input",{attrs:{id:"login",placeholder:"Введите свой логин"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),r("label",{attrs:{type:"password",for:"password"}},[t._v("Пароль: ")]),r("b-input",{attrs:{type:"password",id:"text-password",placeholder:"Введите свой пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("b-form-text",{attrs:{id:"password-help-block"}},[t._v(" Только латиница, от 8 до 16 символов ")]),r("b-button",{attrs:{block:"",variant:"primary",type:"submit"}},[t._v("Войти")])],1)],1)])],1)},X=[],Y=(r("96cf"),r("1da1")),tt={data:function(){return{firstname:"",lastname:"",email:"",login:"",password:""}},computed:{isAuth:function(){return this.$store.getters.get_isAuth},isReg:function(){return this.$store.getters.get_isReg},emailIsValid:function(){return/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/.test(this.email)},passIsValid:function(){return/^[a-zA-Z0-9]{8,16}$/.test(this.password)},logIsValid:function(){return/^[a-zA-Z0-9]+$/.test(this.login)}},methods:{registration:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var r,n,s,o,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.emailIsValid&&t.logIsValid&&t.passIsValid)){e.next=11;break}return r=t.firstname,n=t.lastname,s=t.login,o=t.password,a=t.email,i=t.post("http://ractyfree.ddns.net:180/api?users.regUser",{username:s,password:o,email:a,first_name:r,last_name:n}),e.next=9,i;case 9:e.next=12;break;case 11:alert("Перепроверьте данные, пожалуйста.");case 12:case"end":return e.stop()}}),e)})))()}}},et=tt,rt=(r("a75f"),Object(k["a"])(et,W,X,!1,null,"72038bcb",null)),nt=rt.exports,st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"d-flex justify-content-center align-items-center"},[r("b-col",{attrs:{md:"10",lg:"7"}},[t.isAuth?r("h1",[t._v("Вы уже вошли, не так ли?")]):r("div",{staticClass:"login"},[r("b-form",{on:{submit:t.login}},[r("label",{attrs:{for:"login"}},[t._v("Логин: ")]),r("b-input",{attrs:{id:"login",placeholder:"Введите свой логин"},model:{value:t.lgin,callback:function(e){t.lgin=e},expression:"lgin"}}),r("label",{attrs:{type:"password",for:"password"}},[t._v("Пароль: ")]),r("b-input",{attrs:{type:"password",id:"text-password",placeholder:"Введите свой пароль"},model:{value:t.pswrd,callback:function(e){t.pswrd=e},expression:"pswrd"}}),r("b-form-text",{attrs:{id:"password-help-block"}},[t._v(" Ваш пароль может быть любым, но нужно ли вам это? *Крик злобного брутфорса* ")]),r("b-button",{attrs:{block:"",variant:"primary",type:"submit"}},[t._v("Войти")])],1)],1)])],1)},ot=[],at={data:function(){return{lgin:"",pswrd:""}},computed:{isAuth:function(){return this.$store.getters.get_isAuth}},methods:{login:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.lgin,n=t.pswrd,s=t.post("http://ractyfree.ddns.net:180/api?users.loginUser",{username:r,password:n}),e.next=5,s;case 5:case"end":return e.stop()}}),e)})))()}}},it=at,ct=(r("31b9"),Object(k["a"])(it,st,ot,!1,null,"38f60225",null)),ut=ct.exports,lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"d-flex justify-content-center align-items-center"},[r("b-col",{attrs:{md:"10",lg:"7"}},[t.isAuth?r("div",{staticClass:"create"},[r("b-form",{on:{submit:t.createProj}},[r("label",{attrs:{for:"name"}},[t._v("Название проекта: ")]),r("b-input",{attrs:{id:"name",placeholder:"Введите наименование проекта"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("label",{attrs:{for:"short-descr"}},[t._v("Краткое описание проекта: ")]),r("b-form-textarea",{attrs:{id:"short-descr",placeholder:"введите краткое описание вашего проекта",rows:"6",maxlength:"140","no-resize":""},model:{value:t.shortDescr,callback:function(e){t.shortDescr=e},expression:"shortDescr"}}),r("b-form-text",{attrs:{id:"short-descr-help-block"}},[t._v(" Разрешается использование до 140 символов. ")]),r("label",{attrs:{for:"descr"}},[t._v("Полное описание проекта: ")]),r("b-form-textarea",{attrs:{id:"descr",placeholder:"введите полное описание вашего проекта",rows:"6","no-resize":""},model:{value:t.descr,callback:function(e){t.descr=e},expression:"descr"}}),r("b-form-text",{attrs:{id:"descr-help-block"}},[t._v(" Без ограничений на количество символов. ")]),r("label",{attrs:{for:"link"}},[t._v("Содержание проекта: ")]),t._v(" "+t._s(t.linkIsValid)+" "),r("b-input",{attrs:{id:"link",placeholder:"Введите ссылку на готовый проект"},model:{value:t.link,callback:function(e){t.link=e},expression:"link"}}),r("b-form-text",{attrs:{id:"text-help-block"}},[t._v(" Google docs, Onlyoffice, Dropbox и т.д. ")]),r("b-button",{attrs:{block:"",variant:"primary",type:"submit"}},[t._v("Войти")])],1)],1):r("h1",[t._v("Вы уже вошли, не так ли?")])])],1)},ft=[],dt=(r("b0c0"),r("9911"),{data:function(){return{name:"",shortDescr:"",descr:"",link:""}},computed:{isAuth:function(){return this.$store.getters.get_isAuth},linkIsValid:function(){var t=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=.]+$/;return t.test(this.link)}},methods:{createProj:function(){var t=this;return Object(Y["a"])(regeneratorRuntime.mark((function e(){var r,n,s,o,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.linkIsValid){e.next=11;break}return r={headers:{TOKEN:t.$store.getters.get_Token}},n=t.name,s=t.shortDescr,o=t.descr,a=t.link,i=t.post("http://ractyfree.ddns.net:180/api?projects.makeProject",{name:n,short_description:s,description:o,text:a},r),e.next=9,i;case 9:e.next=12;break;case 11:alert("Извините, но вы ввели неверную ссылку.");case 12:case"end":return e.stop()}}),e)})))()}}}),pt=dt,mt=(r("710d"),Object(k["a"])(pt,lt,ft,!1,null,"ab37b086",null)),ht=mt.exports,bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",[r("b-col",{staticClass:"d-flex justify-content-center align-items-center",attrs:{md:"10",lg:"5"}},[r("b-avatar",{staticClass:"avatar",attrs:{variant:"primary",text:t.userInfo.username}})],1),r("b-col",{staticClass:"info",attrs:{md:"10",lg:"7"}},[r("h3",[t._v(t._s(t.userInfo.first_name+" "+t.userInfo.last_name+" ("+t.userInfo.username+")"))]),r("hr"),r("h6",[t._v(t._s(t.userInfo.email))]),r("hr"),r("ul",t._l(this.$store.getters.get_userProj,(function(e,n){return r("li",{key:n},[r("h5",[t._v(t._s(e.name))]),r("p",[t._v(t._s(e.short_description))])])})),0)])],1)},gt=[],vt={computed:{username:function(){return this.$route.params.id},userInfo:function(){return this.$store.getters.get_userInfo}},methods:{startUserpage:function(){this.post("http://ractyfree.ddns.net:180/api?users.getUser",{username:this.username})},getUserProjects:function(){this.post("http://ractyfree.ddns.net:180/api?projects.getUserProjects",{username:this.username})}},watch:{"$route.params":{handler:function(t){var e=t.username;this.startUserpage(e),this.getUserProjects(e)},immediate:!0}}},_t=vt,kt=(r("0915"),Object(k["a"])(_t,bt,gt,!1,null,"d7217a30",null)),wt=kt.exports,xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h1",[t._v("Help")])},jt=[],yt={},At=yt,$t=Object(k["a"])(At,xt,jt,!1,null,"77a05637",null),Ot=$t.exports,Ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"d-flex justify-content-center align-items-center"},[r("b-col",{attrs:{md:"10",lg:"7"}},[t.isAuth?r("div",[r("h1",[t._v("Вы правда хотите выйти?")]),r("b-button",{attrs:{block:"",variant:"outline-primary",type:"submit"},on:{click:t.logout}},[t._v(" Да, я хочу выйти ")])],1):t._e(),t.isAuth?t._e():r("h1",[t._v("Поздравляем! Вы вышли из аккаунта.")])])],1)},It=[],Pt={computed:{isAuth:function(){return this.$store.getters.get_isAuth}},methods:{logout:function(){this.$store.commit("set_Token",""),this.$store.commit("set_isAuth",!1),this.$cookies.remove("TOKEN"),this.$cookies.remove("isAuth")}}},Et=Pt,Tt=(r("bd31"),Object(k["a"])(Et,Ct,It,!1,null,"3f7c9277",null)),Rt=Tt.exports;n["default"].use(N["a"]);var Ut=[{path:"*",name:"404",component:F},{path:"/",name:"Home",component:Q},{path:"/signin",name:"SignIn",component:nt},{path:"/login",name:"LogIn",component:ut},{path:"/projects",name:"Projects",component:ht},{path:"/user/:id",name:"User",component:wt},{path:"/help",name:"Help",component:Ot},{path:"/logout",name:"LogOut",component:Rt}],Mt=new N["a"]({routes:Ut}),Vt=Mt,Dt=r("2f62");n["default"].use(Dt["a"]);var Nt=new Dt["a"].Store({state:{username:"",isAuth:!1,isReg:!1,Token:"",userInfo:{},userProj:[]},getters:{get_Token:function(t){return t.Token},get_userProj:function(t){return t.userProj},get_username:function(t){return t.username},get_userInfo:function(t){return t.userInfo},get_isAuth:function(t){return t.isAuth},get_isReg:function(t){return t.isReg}},mutations:{set_userProj:function(t,e){t.userProj=e},set_username:function(t,e){t.username=e},set_Token:function(t,e){t.Token=e},set_isAuth:function(t,e){t.isAuth=e},set_isReg:function(t,e){t.isReg=e},set_userInfo:function(t,e){t.userInfo=e}},actions:{},modules:{}}),St={install:function(t,e,r,n){t.prototype.$myMethod=function(){console.log("Be happy my dear friend!")},t.prototype.get=function(r,n){t.axios.get(r,n).then((function(t){e.getters.get_isAuth,console.log(t)})).catch((function(t){console.log(t)}))},t.prototype.post=function(s,o,a){t.axios.post(s,o,a).then((function(t){"http://ractyfree.ddns.net:180/api?users.loginUser"==s&&(t.data.error?alert(t.data.error):(e.commit("set_Token",t.data.token),e.commit("set_isAuth",!0),r.set("TOKEN",t.data.token),r.set("isAuth",!0),r.set("username",o.username),n.push("user/"+o.username))),"http://ractyfree.ddns.net:180/api?users.regUser"==s&&(t.data.error?alert(t.data.error):(e.commit("set_isReg",!0),n.push("login"))),"http://ractyfree.ddns.net:180/api?users.getUser"==s&&(t.data.error?"User not found"==t.data.error?e.commit("set_userInfo",{first_name:"Неизвестен",last_name:"Неизвестный",username:"None",email:"Зачем тебе неизвестность?"}):alert(t.data.error):e.commit("set_userInfo",t.data)),"http://ractyfree.ddns.net:180/api?projects.getAllProjects"==s&&(t.data.error?alert(t.data.error):e.commit("set_userInfo",t.data)),"http://ractyfree.ddns.net:180/api?projects.makeProject"==s&&(t.data.error?alert(t.data.error):alert("Проект успешно создан!")),"http://ractyfree.ddns.net:180/api?projects.getUserProjects"==s&&(t.data.error?alert(t.data.error):e.commit("set_userProj",t.data))})).catch((function(t){console.log(t)}))}}};r("f9e3"),r("2dd8");n["default"].use(o.a),n["default"].use(u.a,i.a),n["default"].use(St,Nt,o.a,Vt),n["default"].use(l["a"]),n["default"].use(f["a"]),n["default"].config.productionTip=!1,new n["default"]({router:Vt,store:Nt,render:function(t){return t(V)}}).$mount("#app")},6362:function(t,e,r){},"710d":function(t,e,r){"use strict";var n=r("c28b"),s=r.n(n);s.a},"7f5d":function(t,e,r){},"85ec":function(t,e,r){},"9c98":function(t,e,r){},a3eb:function(t,e,r){"use strict";var n=r("9c98"),s=r.n(n);s.a},a75f:function(t,e,r){"use strict";var n=r("a99d"),s=r.n(n);s.a},a99d:function(t,e,r){},bc96:function(t,e,r){},bd31:function(t,e,r){"use strict";var n=r("7f5d"),s=r.n(n);s.a},c28b:function(t,e,r){},e487:function(t,e,r){"use strict";var n=r("bc96"),s=r.n(n);s.a}});
//# sourceMappingURL=app.27ed6393.js.map